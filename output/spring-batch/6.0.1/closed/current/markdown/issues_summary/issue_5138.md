*(このドキュメントは生成AI(Claude Sonnet 4.5)によって2026年1月6日に生成されました)*

## 課題概要

パーティショニング（Partitioning）ステップにおいて、`Partitioner`が生成した各パーティションごとの入力パラメータ（`ExecutionContext`）が、メタデータストア（DB）上のステップ実行情報に保存されないというバグです。

**処理の流れと問題点**:
1. `PartitionStep`が`Partitioner`を実行し、複数のパーティション用コンテキスト（入力パラメータ）を生成
2. `PartitionStep`は子ステップを実行するためにDAOを通じて「ステップ実行（StepExecution）」を保存
3. この時点で保存される情報に、1.で生成した**コンテキスト情報が含まれていない**
4. その後、`PartitionHandler`が呼び出されて実際の処理を行うが、DB上にはパラメータが永続化されていないため、後から参照できない

**影響**:
- DBを参照しても、各パーティションがどのパラメータで実行されたか（例：処理対象のファイル名や範囲など）が確認できない
- リスタート時などに正しいコンテキストが復元できない可能性がある

## 原因

`PartitionStep`の実装において、ステップ実行をDAO経由で保存するタイミングが適切ではありません（あるいは、保存時にコンテキストをセットする処理が抜けています）。現在は、パラメータをセットする前に保存処理が走ってしまっています。

## 対応方針

`PartitionStep`が子ステップの実行を保存する際、`Partitioner`によって生成された`ExecutionContext`（入力パラメータ）を、保存対象の`StepExecution`に確実に反映させてから永続化を行うように修正します。
