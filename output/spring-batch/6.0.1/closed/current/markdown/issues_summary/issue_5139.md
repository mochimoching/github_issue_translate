*(このドキュメントは生成AI(Claude Sonnet 4.5)によって2026年1月6日に生成されました)*

## 課題概要

本番環境に近いテストや軽量な実行環境のために、データベース（DataSource）などの外部リソースを必要としない`JobRepository`の実装（リソースレスなリポジトリ）を提供してほしいという機能要望です。

**背景**:
- ユニットテストや簡易実行時に、わざわざH2などの組み込みDBを用意し、スキーマ初期化を行うのは手間がかかる
- 既存のMapベースリポジトリはテスト用として存在するが、Spring Boot環境での自動構成などと組み合わせづらい場合がある

## 原因

現状のSpring Batchでは、`JobRepository`の構成には基本的に`DataSource`（およびトランザクションマネージャ）が必須とされることが多く、完全に「リソース不要（メモリオンリー）」で動作させるための標準的な構成パスが整備されていません。

## 対応方針

Spring BatchおよびSpring Bootの将来のバージョン（Spring Boot 4など）に向けて、以下の改善を進める方針となりました。

1. **ストレージのオプトイン化**: DB（JDBC）を必須とせず、設定プロパティ（例: `spring.batch.job.repository.type=map`）でリポジトリタイプを選択できるようにする
2. **Mapベースリポジトリの改善**: JDBCリポジトリの代替として、設定のみで簡単に利用できるMapベース（インメモリ）リポジトリを正式にサポート・統合する

当面は、既存の`MapJobRepositoryFactoryBean`を活用することで要件を満たせる旨が案内されました。
