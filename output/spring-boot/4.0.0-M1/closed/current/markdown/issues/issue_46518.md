# spring-boot-starter-restclient + spring-boot-starter-test gives compliation error

**Issue番号**: #46518

**状態**: closed | **作成者**: anbusampath | **作成日**: 2025-07-23

**ラベル**: type: task, type: blocker

**URL**: https://github.com/spring-projects/spring-boot/issues/46518

**関連リンク**:
- Commits:
  - [4ca7854](https://github.com/spring-projects/spring-boot/commit/4ca785470ea0695d1a40a4d05e59623c515dd1e3)

## 内容

When new spring-boot-starter-restclient used along with spring-boot-starter-test gives compilation error. If spring-boot-starter-test removed from the dependencies application works fine. 

Sample with compilation error - https://github.com/anbusampath/2025-07-22-declarative-interface-clients-in-spring-boot-4

Sample without spring-boot-starter-test - https://github.com/anbusampath/2025-07-22-declarative-interface-clients-in-spring-boot-4/tree/without-spring-boot-starter-test

I guess exclusion from spring-boot-starter-test impacting the transtive dependency of spring-boot-starter-restclient.

<img width="426" height="172" alt="Image" src="https://github.com/user-attachments/assets/c33d494c-b987-43bb-9400-7f31236b9fb6" />

## コメント

### コメント 1 by wilkinsona

**作成日**: 2025-07-23

Thanks for reporting this. https://github.com/spring-projects/spring-boot/commit/108ca64989d87a46e62b2de88acc1a9f3b9727f8 introduced the problem. That change was later refined in https://github.com/spring-projects/spring-boot/commit/1758f509bce9d4f5b32a9bd1c8428738cc1ae751. I'm not sure what we can do instead, but we'll have to do something.

### コメント 2 by wilkinsona

**作成日**: 2025-07-24

Fixed by 96ff9e59adc68dbd9949fbfc3594a67045559000.

