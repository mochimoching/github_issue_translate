# Create immutable MultiValueMap wrapper

**Issue番号**: #27608

**状態**: closed | **作成者**: poutsma | **作成日**: 2021-10-25

**ラベル**: in: core, type: enhancement

**URL**: https://github.com/spring-projects/spring-framework/issues/27608

**関連リンク**:
- Commits:
  - [0a58419](https://github.com/spring-projects/spring-framework/commit/0a58419df4fee5e50b6831c065c1a14bedc5f5f8)
  - [af4e677](https://github.com/spring-projects/spring-framework/commit/af4e677bfc61921123385af55887f3ad1ab0ab4b)

## 内容

Currently, `CollectionUtils::unmodifiableMultiValueMap` returns an (unmodifiable) copy of the target map, and therefore allocates extra memory. We cannot use the `Collections.unmodifiableMap` wrapper in said method, because each value of the map should be immutable as well, and thus needs a `Collections.unmodifiableList` wrapper.

We should create a `UnmodifiableMultiValueMap` wrapper, similar to the JDK `Collections`, that wraps entries and values with immutable counterparts where needed.

