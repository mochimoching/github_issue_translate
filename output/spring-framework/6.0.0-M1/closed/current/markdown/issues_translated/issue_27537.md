# AspectJ 1.9.8-RC3へのアップグレード

**Issue番号**: [#27537](https://github.com/spring-projects/spring-framework/issues/27537)

**状態**: closed | **作成者**: sbrannen | **作成日**: 2021-10-08

**ラベル**: type: dependency-upgrade

**URL**: https://github.com/spring-projects/spring-framework/issues/27537

**関連リンク**:
- Commits:
  - [2fb3f99](https://github.com/spring-projects/spring-framework/commit/2fb3f9993f34c561223c5dc3b35537d78020e21d)
  - [fa3a2dc](https://github.com/spring-projects/spring-framework/commit/fa3a2dc98142d397c8394e93d79749f345c149a7)

## 内容

## 概要

AspectJ 1.9.8 RC1が本日[リリース](https://github.com/eclipse/org.aspectj/issues/79#issuecomment-938499393)されたため、これに対してテストを開始し、GAリリース後に1.9.8 GAにアップグレードします。

## リソース

- 暫定版[リリースノート](https://htmlpreview.github.io/?https://github.com/eclipse/org.aspectj/blob/29b024efe4cb4db803103aa099d60b9bc85bac6c/docs/dist/doc/README-198.html)

## 成果物

- AspectJ 1.9.8 GAへのアップグレード
- LTWサポートの変更に関するリファレンスマニュアルへの注記を追加(詳細はAspectJ 1.9.8リリースノートを参照)

## コメント

### コメント 1 by kriegaex

**作成日**: 2021-10-09

新しいAspectJバージョンを迅速に採用していただきありがとうございます。フィードバックを楽しみにしています。ビルドシステムの最小Javaバージョンがわからないため、次の注意事項をご確認ください:

* Java 17をサポートするEclipse Java Compiler(ECJ)3.2.7は、EclipseがコードベースをJava 11に移行したため、ビルド環境としてJDK 11+が必要になりました。`aspectjtools`に含まれるAspectJ Compiler(AJC)はECJのフォークであるため、Java-17対応のAJCバージョン(1.9.8.RC1以降)を使用する場合、ビルドをJDK 11+で実行する必要があります。ただし、ターゲットはJava 1.3まで下げることができるため、ご心配なく。これはあくまでビルド環境についてです。AJCを使用しているか、AspectJ Toolsライブラリに依存しているかどうかは確認してください。

* LTWについては、現時点で小さい`aspectjweaver`エージェントライブラリに含まれるクラスファイルにはJava 11のクラスファイルが含まれていないことを確認しました。つまり、LTWはJDK 8システムでも動作するはずです。

### コメント 2 by sbrannen

**作成日**: 2021-10-10

> 新しいAspectJバージョンを迅速に採用していただきありがとうございます。フィードバックを楽しみにしています。

どういたしまして。GAリリース前にRCを使った統合テストにご協力できて嬉しいです。

fa3a2dc98142d397c8394e93d79749f345c149a7の変更により、ビルドは正常に動作しています。

> ビルドシステムの最小Javaバージョンがわからないため、次の注意事項をご確認ください:

Spring Framework 6.0(`main`)では、Java 17がビルドおよびSpring 6.0を使用するアプリケーションのベースラインです。

### コメント 3 by jhoeller

**作成日**: 2021-12-14

AspectJ 1.9.8 RC3へのアップグレード(6.0 M1向け)により、このissueをクローズします。AspectJ 1.9.8 GAへのアップグレードは[#27416](https://github.com/spring-projects/spring-framework/issues/27416)で追跡します。
