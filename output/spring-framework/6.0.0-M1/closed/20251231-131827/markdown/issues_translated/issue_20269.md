# メッセージングMappingJackson2MessageConverterでカスタムvndタイプのサポートを有効化 [SPR-15712]

**Issue番号**: [#20269](https://github.com/spring-projects/spring-framework/issues/20269)

**状態**: closed | **作成者**: spring-projects-issues | **作成日**: 2017-06-27

**ラベル**: in: messaging, type: enhancement

**URL**: https://github.com/spring-projects/spring-framework/issues/20269

**関連リンク**:
- Commits:
  - [b7cd049](https://github.com/spring-projects/spring-framework/commit/b7cd049d7d0c03496ee9d958590c1f7e1af8b5aa)

## 内容

**[Vinicius Carvalho](https://jira.spring.io/secure/ViewProfile.jspa?name=vcarvalho)** が **[SPR-15712](https://jira.spring.io/browse/SPR-15712?redirect=false)** を作成しコメント:

現在のコンバーターの実装では、`application/vnd.springframework.type+json`のようなvndタイプの変換が許可されていません。事前にカスタムタイプを設定することは可能ですが、少なくともSpring Cloud Streamのユースケースでは、ペイロードに`+json`を含む任意のタイプをサポートできると便利です。

`MimeType`のサブタイプを使用しても、`json`と`vnd...`は異なるタイプとみなされるため機能しません。

Spring AMQPは、コンテンツタイプに`json`という単語が含まれているかを単純にチェックする別のアプローチを採用しています。

このコアコンポーネントで何らかのサポートがあれば、デフォルトの動作をオーバーライドするためにSpring Cloud Streamで別の独自実装を行う必要がなくなります。

---

**影響バージョン:** 4.3.9


## コメント

### コメント 1 by rstoyanchev

**作成日**: 2021-09-07

HTTP用の同じコンバーターと同様に、サポートされるMIMEタイプとして`"application/*+json"`を追加できます。
