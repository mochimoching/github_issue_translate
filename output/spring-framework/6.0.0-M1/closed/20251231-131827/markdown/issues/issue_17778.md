# Upgrade core framework build to JDK 17

**Issue番号**: #17778

**状態**: closed | **作成者**: spring-projects-issues | **作成日**: 2015-07-02

**ラベル**: type: task

**URL**: https://github.com/spring-projects/spring-framework/issues/17778

**関連リンク**:
- Commits:
  - [33cddef](https://github.com/spring-projects/spring-framework/commit/33cddef026ad7a8c86eac0195377d67f00b37674)
  - [b74e938](https://github.com/spring-projects/spring-framework/commit/b74e93807e0443d30cd1a7c5a8671ceae27e3178)

## 内容

**[Juergen Hoeller](https://jira.spring.io/secure/ViewProfile.jspa?name=juergen.hoeller)** opened **[SPR-13186](https://jira.spring.io/browse/SPR-13186?redirect=false)** and commented

#### Resources

- [JDK 9 early access builds](https://jdk9.java.net/download/)
- [Gradle 3.0 nightly builds](http://gradle.org/gradle-nightly-build/)
  - [nightly release notes](https://docs.gradle.org/nightly/release-notes)
- [Gradle JDK 9 Support](https://github.com/gradle/gradle/blob/master/design-docs/jdk9-support.md) wiki page

---

**Issue Links:**
- #17928 Compatibility with merged JDK 9 mainline (_**"depends on"**_)
- #19138 Upgrade build to Gradle 3.0 (_**"depends on"**_)
- #18092 Remove AbstractJpaTests and revise spring-orm test suite accordingly (_**"depends on"**_)
- #18079 Declare Spring modules with JDK 9 module metadata (_**"is depended on by"**_)
- #17779 Support for new JDK 9 HTTP Client API (_**"is depended on by"**_)

2 votes, 12 watchers


## コメント

### コメント 1 by spring-projects-issues

**作成日**: 2016-06-15

**[Sam Brannen](https://jira.spring.io/secure/ViewProfile.jspa?name=sbrannen)** commented

Hi [Juergen Hoeller](https://jira.spring.io/secure/ViewProfile.jspa?name=juergen.hoeller),

I've got some good news...

If you remove the `-Werror` flag from `compileJava.options*.compilerArgs` in `build.gradle`, it is once again possible to start _smoke testing_ against OpenJDK 9 Early Access builds using [Gradle 3.0 nightly builds](http://gradle.org/gradle-nightly-build/).

```
$> gradlew wrapper --gradle-distribution-url=https://services.gradle.org/distributions-snapshots/gradle-3.0-20160615000025+0000-bin.zip
$> gradlew -version
$> gradlew clean test
```

Of course, lots of things don't work, such as: JAXB, XmlBeans, AspectJ, JRuby, our shadow ClassLoader for JPA tests, etc.

As an experiment, however, I was able to get the JAXB support in Spring OXM to compile by declaring the following dependencies in `spring-oxm/oxm.gradle`.

```java
xjc 'javax.xml.bind:jaxb-api:2.2.11'
xjc 'com.sun.xml.bind:jaxb-core:2.2.11'
xjc 'com.sun.xml.bind:jaxb-impl:2.2.11'
xjc 'com.sun.xml.bind:jaxb-xjc:2.2.11'
xjc 'javax.activation:activation:1.1.1'
```

So.... happy testing! ;)

p.s., I read elsewhere that the preferred way to reference the _current_ JAXB dependencies (without referencing com.sun.*) is as follows:

- `org.glassfish.jaxb:jaxb-xjc:2.2.11`
- `org.glassfish.jaxb:jaxb-runtime:2.2.11`



### コメント 2 by spring-projects-issues

**作成日**: 2017-06-19

**[Juergen Hoeller](https://jira.spring.io/secure/ViewProfile.jspa?name=juergen.hoeller)** commented

For the time being, we're going to stay on a JDK 8 build. Technically we only have a need to build on JDK 9 once we decide to ship `module-info` descriptors, and it looks like we'll be able to live with `Automatic-Module-Name` entries (#18289) up until Spring Framework 6.


### コメント 3 by spring-projects-issues

**作成日**: 2018-11-02

**[Rostislav Krasny](https://jira.spring.io/secure/ViewProfile.jspa?name=rosti)** commented

[Juergen Hoeller](https://jira.spring.io/secure/ViewProfile.jspa?name=juergen.hoeller), I think the minimum JDK version for Spring Framework 6 building should be JDK 11 because this is the first Long Term Support (LTS) version of JDK after JDK 8. JDK 9 and JDK 10 had very short term support and are already dead, i.e. they are unsupported by Oracle. I think the title of this Jira ticket should be updated accordingly.


### コメント 4 by spring-projects-issues

**作成日**: 2018-11-04

**[Juergen Hoeller](https://jira.spring.io/secure/ViewProfile.jspa?name=juergen.hoeller)** commented

Good point, once we upgrade the Java baseline for Spring Framework 6, we'll certainly aim for JDK 11+ right away. However, from where we stand right now, this is unlikely to happen before 2021 (when JDK 17 is on the horizon as the next LTS release, providing us with a target support range of two LTS generations of Java again).


### コメント 5 by jhoeller

**作成日**: 2021-09-15

Repurposing this issue for our JDK 17 baseline in Spring Framewor 6.0, the basics have been covered by a few recent commits already, e.g. through #26901.

### コメント 6 by jhoeller

**作成日**: 2021-12-14

Closing this issue for 6.0 M1 since all the basic upgrade is complete.
Further steps towards the Java module system are planned for a later milestone, e.g. #18079.

