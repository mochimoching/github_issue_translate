# JavaPoetのリパッケージバージョンを提供する

**Issue番号**: #27828

**状態**: closed | **作成者**: snicoll | **作成日**: 2021-12-16

**ラベル**: in: core, type: enhancement, theme: aot

**URL**: https://github.com/spring-projects/spring-framework/issues/27828

**関連リンク**:
- Commits:
  - [42243d9](https://github.com/spring-projects/spring-framework/commit/42243d974f99255eb3a4efd69022b77e4e8610c7)
  - [dd7ec1a](https://github.com/spring-projects/spring-framework/commit/dd7ec1ae057b7937cf031656b40d89cdf57d9e69)
  - [61e15d9](https://github.com/spring-projects/spring-framework/commit/61e15d94fc8aa9dc29e027d5a435aa2bd9571a03)
  - [d0b6612](https://github.com/spring-projects/spring-framework/commit/d0b66129f9238cbb8aa755faab177396aa5c0456)
  - [f9ccac0](https://github.com/spring-projects/spring-framework/commit/f9ccac0682d444cffdb4aa5ae9a4fcd04d2350c1)
  - [467dd75](https://github.com/spring-projects/spring-framework/commit/467dd75b00ebf3de8fc6863c48ad8c77c131f6da)
  - [f61ad47](https://github.com/spring-projects/spring-framework/commit/f61ad4764276bd0fa2d0061ab6f2cceb9c158d07)
  - [b74b86b](https://github.com/spring-projects/spring-framework/commit/b74b86ba9f34ec287487f76bd4c085d9d0f96d2e)
  - [dfae8ef](https://github.com/spring-projects/spring-framework/commit/dfae8effa8c26ab69cf7b237b3c2fdd382f64b75)
  - [bb06af0](https://github.com/spring-projects/spring-framework/commit/bb06af0273fb32410c6496f275bdb8c28445240f)
  - [cff4346](https://github.com/spring-projects/spring-framework/commit/cff4346293581caabd2c5ffdd1ded57ed231c2eb)
  - [ce7513e](https://github.com/spring-projects/spring-framework/commit/ce7513e7575b9dc7e9e5d6c138f40ad026e3124a)
  - [704e1a0](https://github.com/spring-projects/spring-framework/commit/704e1a02d9b234480fe2f328427009ee5c2c0322)

## 内容

AOT処理にはコード生成ライブラリが必要で、Spring NativeではJavaPoetの使用に満足しています。しかし、コアコンテナがサードパーティに直接依存するのは非常に異例です。そのため、`spring-core`モジュール内で`org.springframework.javapoet`にjarjarでリパッケージする計画です。

## コメント

### コメント 1 by snicoll

**作成日**: 2022-01-11

当面は、JavaPoetに直接依存し、それを必要とするモジュールでオプション依存関係として扱うことにしました。

### コメント 2 by snicoll

**作成日**: 2022-02-03

特定のコンポーネントが通常の実行時動作と事前処理されたバージョンを生成できるものの両方を提供できるように設計が進化する中で、javapoetのオプション依存関係に頼るのは奇妙だと明らかになりました。

リパッケージを再度試みることにしました。
