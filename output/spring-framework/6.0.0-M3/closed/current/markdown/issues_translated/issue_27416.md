# AspectJ 1.9.8 GAへのアップグレード

**Issue番号**: #27416

**状態**: closed | **作成者**: bclozel | **作成日**: 2021-09-15

**ラベル**: type: dependency-upgrade

**URL**: https://github.com/spring-projects/spring-framework/issues/27416

**関連リンク**:
- Commits:
  - [4e3d1fa](https://github.com/spring-projects/spring-framework/commit/4e3d1fa4e9da90b21c2e19c29037f0d687ee4f3e)
  - [2019e17](https://github.com/spring-projects/spring-framework/commit/2019e176ee9c75c2f20ce68a82df2cf1a2af872a)

## 内容

これは、JDK17のソースおよびターゲット互換性レベルを正式にサポートする最初のバージョンです(eclipse/org.aspectj#79を参照)。

現在、aspectjのGradleタスクで言語レベルを1.8にダウングレードしています。この課題をクローズするには、`spring-aspects.gradle`内の`compileAspectj`タスクと`compileTestAspectj`タスクへの変更を元に戻す必要があります。

## コメント

### コメント 1 by jhoeller

**作成日**: 2021-12-14

AspectJ 1.9.8のRCについては、spring-projects/spring-framework#27537(6.0 M1向け)で追跡しているため、この課題をAspectJ 1.9.8 GA(6.0 M2向け)用に目的を変更します。

### コメント 2 by sbrannen

**作成日**: 2022-01-14

関連課題:

- spring-projects/spring-boot#29754

### コメント 3 by philjoseph

**作成日**: 2022-02-08

こんにちは、AspectJチームの皆さん。Java 17の最初のGAとなるバージョン1.9.8のGAは、現在、@sbrannnenさんが25日前に言及した最適化に依存しているのでしょうか?

### コメント 4 by kriegaex

**作成日**: 2022-02-08

いいえ、@philjosephさん。その最適化はすでにマージされています。実際、1.9.8の安定版(現在RC3)は長い間存在しており、どれでも正式版として宣言できました。実際には、AspectJのコミッターステータスを祝してリリースをカットしたかったのですが、技術的には必要ありませんでした。なぜなら、組織に代わってすでにMaven Centralにデプロイできるからです。ただ、直接コミットできず、ちょっとしたコミットごとにAndy Clementに私のPRをマージするよう依頼する必要があります。内部のEclipseプロセスが非常に複雑なため、AspectJ本体のコミッターステータスをまだ得ていません(AJDTのみ)。そのため、単に「リリースボタンを押す」ことをしませんでした。これ以上エキサイティング(機能面)または正当な理由がなくて申し訳ありません。おそらくリリースをデプロイすべきでしょう。さらなる最適化(Andyは1.9.8.RC3以降、いくつかのマイナーなバグを修正しました)については、次のリリースで常に対応できます。しかし、単にJava 17を使用したい場合は、RC3を使用してください。ただし、お話しされていた最適化はまだ含まれていません。それは次のMaven Centralバージョンに含まれる予定です。

### コメント 5 by kriegaex

**作成日**: 2022-02-11

リリース1.9.8が公開されました。https://github.com/eclipse/org.aspectj/pull/121 および AspectJユーザーメーリングリストに送信した[リリースアナウンス](https://www.eclipse.org/lists/aspectj-users/msg15534.html)も参照してください。引用:

> AspectJユーザーの皆様、
> 
> 1.9.8をリリースしました(はい、ついに)。[Maven Centralで利用可能](https://repo1.maven.org/maven2/org/aspectj/aspectjtools/1.9.8/)です。AspectJインストーラーは[Aspectj.dev](https://aspectj.dev/maven/org/aspectj/installer/1.9.8/)にあります。
> 
> 詳細については、[リリースノート](https://htmlpreview.github.io/?https://github.com/kriegaex/org.aspectj/blob/4b9d86acd096e5ee9e108ff0a450c420c880b6ea/docs/dist/doc/README-198.html)をお読みください。
> 
> [dev.aspectj:aspectj-maven-plugin:1.13.1](https://github.com/dev-aspectj/aspectj-maven-plugin)を使用する際に最新のAspectJバージョンにアップグレードする方法の詳細および例示プロジェクトについては、[AspectJ GitHub issue spring-projects/spring-framework#95](https://github.com/eclipse/org.aspectj/issues/95)を参照してください。
> 
> AspectJをお楽しみください!
> 
> AspectJチーム

### コメント 6 by snicoll

**作成日**: 2022-02-16

参考までに、これを`5.3.x`にもバックポートすることにしました。#28060を参照してください。
