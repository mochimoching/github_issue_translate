# Introduce AotDetector mode

**Issue番号**: #28474

**状態**: closed | **作成者**: snicoll | **作成日**: 2022-05-18

**ラベル**: type: enhancement, theme: aot

**URL**: https://github.com/spring-projects/spring-framework/issues/28474

**関連リンク**:
- Commits:
  - [da8c4de](https://github.com/spring-projects/spring-framework/commit/da8c4de263835afb3adf2c26ab62afb214157b85)
  - [c606f75](https://github.com/spring-projects/spring-framework/commit/c606f757739aa30e801ca20837e51905dbb09560)
  - [a9295e8](https://github.com/spring-projects/spring-framework/commit/a9295e877e4388e83bf09b633de31486e30f1963)

## 内容

We need a way to opt-in for the use of AOT on the JVM. Right now, we rely on the system property that is set when building a native image (or running with the native image agent with Native Build Tools), but this should be restricted to things that should really behave differently there.

Spring Native has [an `AotModeDetector`](https://github.com/spring-projects-experimental/spring-native/blob/d176e2d360350c5f91d0a44f9b7fefddd3f6d2db/spring-native/src/main/java/org/springframework/nativex/AotModeDetector.java#L29) we could use as an inspiration. This will also be relevant for #28205.

