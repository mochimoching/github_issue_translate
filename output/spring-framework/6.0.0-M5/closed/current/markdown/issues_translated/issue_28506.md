# "classpath*:"リソースプレフィックスのモジュールパススキャンをサポート

**課題番号**: #28506

**状態**: closed | **作成者**: sbrannen | **作成日**: 2022-05-23

**ラベル**: in: test, in: core, type: enhancement

**URL**: https://github.com/spring-projects/spring-framework/issues/28506

**関連リンク**:
- Commits:
  - [fa8b3ef](https://github.com/spring-projects/spring-framework/commit/fa8b3ef8b61319a08d5238888b3a6f77d18f04f9)
  - [19b436c](https://github.com/spring-projects/spring-framework/commit/19b436c6aa14e79e6f3a98c15a8edff2a8c351fc)
  - [190a459](https://github.com/spring-projects/spring-framework/commit/190a459cfa538d16f7a73d23759859e4167a7409)
  - [957faac](https://github.com/spring-projects/spring-framework/commit/957faac91832a7f6e79ceb79bd573c66dde1afa6)
  - [23a58e6](https://github.com/spring-projects/spring-framework/commit/23a58e6bab2b5aecd77e30c2b2d0ee41b643876f)

## 内容

#21515の調査結果を踏まえて、`classpath*:`リソースプレフィックスが使用されるたびに、モジュールパスをスキャンするための暗黙的なサポートを導入すべきです。

これにより、`classpath*:`セマンティクスに依存する既存のアプリケーションが、Javaモジュールシステムに移行する際に動作するようになります（`ClassLoader`ベースのクラスパススキャンで既にサポートされていないユースケース用）。

例えば、`@ComponentScan`は、アプリケーションがクラスパスまたはモジュールパスにデプロイされた場合に、事実上同じように動作するはずです。

## コメント

### コメント 1 by sbrannen

**作成日**: 2022-05-24

この課題は6.0 M5に含めるために解決されました。

当面は、パッチモジュールでデプロイされたアプリケーション用に6.0スナップショットを自由に試してください。

JavaモジュールシステムでSpring Frameworkを使用するためのデモンストレーション用に新しいリポジトリを作成しました：https://github.com/sbrannen/spring-module-system

そのリポジトリには現在、Maven Surefireを使用してパッチモジュールで`@ComponentScan`のサポートをデモンストレーションする単一の`maven-surefire-patched-module`プロジェクトが含まれています。
