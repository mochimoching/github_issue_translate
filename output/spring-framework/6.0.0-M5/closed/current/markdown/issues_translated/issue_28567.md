# Kotlin RouterFunction DSLに属性サポートを導入

**課題番号**: #28567

**状態**: closed | **作成者**: christophejan | **作成日**: 2022-06-05

**ラベル**: in: web, type: enhancement, theme: kotlin

**URL**: https://github.com/spring-projects/spring-framework/issues/28567

**関連リンク**:
- Commits:
  - [cc17178](https://github.com/spring-projects/spring-framework/commit/cc1717871f4475459cebc1f39d5167a7af43abb5)
  - [bbabf8d](https://github.com/spring-projects/spring-framework/commit/bbabf8d855cc8d48757bdc86f2f2c426a7438f0a)
  - [283bc9e](https://github.com/spring-projects/spring-framework/commit/283bc9ede936bd41b68ad2ee7fe00047d5550b93)

## 内容

現在のspring frameworkバージョン（5.3.19）では、RouterFunctionの**属性**はRouterFunction Kotlin **DSL**によって**サポートされていません**。

<br />

RouterFunction属性は現在Javaビルダーでサポートされています：

- https://github.com/spring-projects/spring-framework/blob/172102d225c916e2ca24b87aa0f0a74d824815b2/spring-webflux/src/main/java/org/springframework/web/reactive/function/server/RouterFunctionBuilder.java#L335

- https://github.com/spring-projects/spring-framework/blob/172102d225c916e2ca24b87aa0f0a74d824815b2/spring-webflux/src/main/java/org/springframework/web/reactive/function/server/RouterFunctionBuilder.java#L350

- https://github.com/spring-projects/spring-framework/blob/172102d225c916e2ca24b87aa0f0a74d824815b2/spring-webmvc/src/main/java/org/springframework/web/servlet/function/RouterFunctionBuilder.java#L328

- https://github.com/spring-projects/spring-framework/blob/172102d225c916e2ca24b87aa0f0a74d824815b2/spring-webmvc/src/main/java/org/springframework/web/servlet/function/RouterFunctionBuilder.java#L343

<br />

しかし、RouterFunction属性サポートはすべてのKotlin DSLから欠落しています：

- https://github.com/spring-projects/spring-framework/blob/172102d225c916e2ca24b87aa0f0a74d824815b2/spring-webflux/src/main/kotlin/org/springframework/web/reactive/function/server/RouterFunctionDsl.kt#L65

- https://github.com/spring-projects/spring-framework/blob/172102d225c916e2ca24b87aa0f0a74d824815b2/spring-webflux/src/main/kotlin/org/springframework/web/reactive/function/server/CoRouterFunctionDsl.kt#L66

- https://github.com/spring-projects/spring-framework/blob/172102d225c916e2ca24b87aa0f0a74d824815b2/spring-webmvc/src/main/kotlin/org/springframework/web/servlet/function/RouterFunctionDsl.kt#L62
