# AotDetectorモードを導入

**課題番号**: #28474

**状態**: closed | **作成者**: snicoll | **作成日**: 2022-05-18

**ラベル**: type: enhancement, theme: aot

**URL**: https://github.com/spring-projects/spring-framework/issues/28474

**関連リンク**:
- Commits:
  - [da8c4de](https://github.com/spring-projects/spring-framework/commit/da8c4de263835afb3adf2c26ab62afb214157b85)
  - [c606f75](https://github.com/spring-projects/spring-framework/commit/c606f757739aa30e801ca20837e51905dbb09560)
  - [a9295e8](https://github.com/spring-projects/spring-framework/commit/a9295e877e4388e83bf09b633de31486e30f1963)

## 内容

JVM上でのAOTの使用をオプトインする方法が必要です。現在、ネイティブイメージのビルド時（またはNative Build Toolsでネイティブイメージエージェントを実行する際）に設定されるシステムプロパティに依存していますが、これは本当に異なる動作をすべきものに制限されるべきです。

Spring Nativeには、インスピレーションとして使用できる[`AotModeDetector`](https://github.com/spring-projects-experimental/spring-native/blob/d176e2d360350c5f91d0a44f9b7fefddd3f6d2db/spring-native/src/main/java/org/springframework/nativex/AotModeDetector.java#L29)があります。これは#28205にも関連します。
