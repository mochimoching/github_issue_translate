*このドキュメントは生成AI(Claude Sonnet 4.5)によって2026年1月6日に生成されました。*

## 課題概要

Spring FrameworkのBean検索機能`findAnnotationOnBean`メソッドにおいて、静的メソッドと非静的メソッドで動作が異なるという不具合です。

**背景説明**:
- **Bean**: Spring Frameworkで管理されるオブジェクトのこと。DIコンテナが生成・管理します
- **@Configuration**: Spring設定クラスであることを示すアノテーション
- **@Bean**: メソッドの戻り値をBeanとして登録することを示すアノテーション
- **静的メソッド**: クラスに属し、インスタンス化せずに呼び出せるメソッド（`static`キーワード付き）

**問題の詳細**:
- `@Bean`メソッドが静的メソッドの場合: `findAnnotationOnBean`が誤って`@Configuration`クラスのアノテーションを取得してしまう
- `@Bean`メソッドが非静的（インスタンス）メソッドの場合: 正しく動作し、アノテーションは見つからない

期待される動作は、どちらの場合もBeanメソッド自体のアノテーションのみを検索し、囲んでいる`@Configuration`クラスのアノテーションは対象外とすることです。

## 原因

`findAnnotationOnBean`メソッドの実装が、静的`@Bean`メソッドの場合に、誤ってメソッドの宣言クラス（`@Configuration`クラス）からアノテーションを検索してしまうため。

Beanファクトリーメソッドのアノテーション検索ロジックが、静的メソッドと非静的メソッドで異なる処理をしており、静的メソッドの場合はメソッドを所有するクラスのアノテーションまで含めて検索していました。

## 対応方針

以下のコミットで修正が実施されました:

- [3da2b5c](https://github.com/spring-projects/spring-framework/commit/3da2b5c1b914a20f6728e614f51d8eb25d956c3d)
- [a364410](https://github.com/spring-projects/spring-framework/commit/a36441064639eed2ed79986fce20f82ea8feef3a)
- [a14650e](https://github.com/spring-projects/spring-framework/commit/a14650e0dc37ad36e0d1c1d8ebbb0440bcfd312b)
- [a1fe05f](https://github.com/spring-projects/spring-framework/commit/a1fe05f40b02cc79dc3777ff6f90a04ac4de6eac)

修正内容:
- `findAnnotationOnBean`メソッドの実装を見直し、静的メソッドと非静的メソッドで一貫した動作を実現
- Beanメソッド自体のアノテーションのみを検索対象とし、宣言クラスのアノテーションを除外するよう修正
- テストケースを追加し、両方のケースで正しく動作することを確認
