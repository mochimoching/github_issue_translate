# WebSocketConfigurationSupportでのTaskScheduler bean定義を停止

**Issue番号**: [#27903](https://github.com/spring-projects/spring-framework/issues/27903)

**状態**: closed | **作成者**: wilkinsona | **作成日**: 2022-01-07

**ラベル**: in: web, type: enhancement

**URL**: https://github.com/spring-projects/spring-framework/issues/27903

**関連リンク**:
- Commits:
  - [29fe109](https://github.com/spring-projects/spring-framework/commit/29fe1094403264c4f9583619fdd9e904fc463e8c)
  - [3682019](https://github.com/spring-projects/spring-framework/commit/368201975a0b9e65b051a71d0894783bcbc4c593)

## 内容

**影響バージョン:** 5.3.x

`WebSocketConfigurationSupport`が`TaskScheduler` beanを定義しているため、[Bootで問題](https://github.com/spring-projects/spring-boot/issues/28449)が発生しています。`@EnableWebSocket`を使用すると、例えば`ThreadPoolTaskScheduler`の自動構成がバックオフしてしまいます。これは、より具体的で主に実装の詳細である何かに対して、非常に一般的な契約だと感じています。FrameworkのWebSocketサポートがタスクスケジューラーのためにbeanを全く定義しないか、またはそのために異なるWebSocket固有の型を使用できれば、Bootにとって役立つでしょう。

これは5.3.xに影響しますが、[私たちは](https://github.com/spring-projects/spring-boot/issues/28449#issuecomment-952632352)6.0まで変更できない可能性があると考えています。
