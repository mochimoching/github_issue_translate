# Stop defining a TaskScheduler bean in WebSocketConfigurationSupport

**Issue番号**: #27903

**状態**: closed | **作成者**: wilkinsona | **作成日**: 2022-01-07

**ラベル**: in: web, type: enhancement

**URL**: https://github.com/spring-projects/spring-framework/issues/27903

**関連リンク**:
- Commits:
  - [29fe109](https://github.com/spring-projects/spring-framework/commit/29fe1094403264c4f9583619fdd9e904fc463e8c)
  - [3682019](https://github.com/spring-projects/spring-framework/commit/368201975a0b9e65b051a71d0894783bcbc4c593)

## 内容

**Affects:** 5.3.x

`WebSocketConfigurationSupport` defines a `TaskScheduler` bean which causes [problems in Boot](https://github.com/spring-projects/spring-boot/issues/28449) as using `@EnableWebSocket` causes auto-configuration of a `ThreadPoolTaskScheduler` to back off, for example. My feeling is that this a very general contract for something that's more specific and largely an implementation detail. It would be helpful to Boot if Framework's WebSocket support could avoid defining a bean at all for its task scheduler or could use a different, WebSocket-specific type to do so.

While this affects 5.3.x, [we think](https://github.com/spring-projects/spring-boot/issues/28449#issuecomment-952632352) it may be a change that can't be made till 6.0.

